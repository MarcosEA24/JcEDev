<section class="profesionals-list">
    <div *ngFor="let prof of registeredProfessions">
        <h1>{{prof}}</h1>
        <div *ngFor="let pro of allPros; let p = index">
        <mat-card *ngIf="filterProByProfession(prof, pro)" class="profesional-card mat-elevation-z4"> 
            <mat-card-header>
               <img mat-card-avatar src={{pro.fotoPerfil}}/>
                <mat-card-title>{{pro.nombres}} {{pro.apellidoPaterno}} {{pro.apellidoMaterno}}</mat-card-title>
                <mat-card-subtitle>
                    <div class="profesionals-list" > 
                        <button 
                            *ngFor="let oficio of pro.oficios; let i=index" 
                            [ngClass]="selectedJob[p] == i ? 'oficios-button-selected' : 'oficios-button'"
                            (click)="updateJobInfo(p, i)"
                        >
                        {{oficio.oficio_name}}</button>
                    </div>
                </mat-card-subtitle>
            </mat-card-header>
              <mat-card-content >
                <p>{{pro.oficios[selectedJob[p]].oficio_descripcion}}</p>
            <mat-accordion class="acordion">
                <mat-expansion-panel class="mat-elevation-z0" (opened)="panelOpenState[p] = true" (closed)="panelOpenState[p] = false">
                    <mat-expansion-panel-header>
                        <mat-panel-description>
                            <a class="details-button" 
                            mat-raised-button align="end" 
                            > Ver {{panelOpenState[p] ? 'menos' : 'm√°s'}}</a>
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div>
                        <p class="label-card">Area para trabajar:</p> 
                    </div>

                    <div class="location-list">
                        <p class="card-text">{{pro.ubicacionTrabajo}}</p>  
                    </div>
                    <div>
                        <p class="label-card">Telefono de contacto: </p> 
                    </div>

                    <div class="location-list">
                        <p class="card-text">{{pro.numeroCelular}}</p> 
                    </div>

                    <div>
                        <p class="label-card">Imagenes de trabajos: </p> 
                    </div>
                    <div class="gallery-container">
                        <div class="gallery-viewport">
                            <ul class="gallery-list">
                                <li *ngFor="let foto of pro.oficios[selectedJob[p]].fotos" class="gallery-item">
                                    <img style="width: 100%;" src={{foto}}/>
                                </li>
                            </ul>
                        </div>   
                    </div>
                    
                </mat-expansion-panel>
            </mat-accordion>

              </mat-card-content>
        </mat-card>
        </div>
    </div>
</section>